<!DOCTYPE>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Beartec - Home</title>
    <link rel="stylesheet" type="text/css" href="stylesheets/reset.css" />
    <link rel="stylesheet" type="text/css" href="stylesheets/main.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
</head>
<body>
    <div id="header">
        <div class="custom_navbar">
            
            <a id="brand" href="index.html">
                <img src="logo.png" height="30px" class="d-inline-block align-top">
                BearTec
            </a>
            <ul id="main_menu">
                <li class="first_list"><a href="index.html" class="main_menu_first main_current">home</a></li>
                <li class="first_list"><a href="about.html" class="main_menu_first">about us</a></li>
                <li class="first_list"><a href="https://beartec.azurewebsites.net/" class="main_menu_first">blog</a></li>
            </ul>
        </div> <!-- END .container -->
    </div> <!-- END #header -->
    
    <div id="main_content">
        <div id="slideshow_area">
            <div class="container">
                <div id="slideshow_container" class="flex-centered-items-container">
                    <img src="images/banner1.png" alt="banner1"/>
                </div> <!-- END #slideshow_container -->
            </div> <!-- END .container -->
        </div> <!-- END #slideshow_area --> 
        <div id="mid_content" class="container flex-centered-items-container">
            
            
                
        </div> <!-- END #mid_content -->
       
    <div id="footer">
            
            <div  class="footer_info">
                
                <h4>about us</h4>
                <p>Grupo de estudiantes de ingenieria apasionados por la tecnologia y el desarrollo de la misma. </p>
                
            </div> <!-- END #footer_about -->
            
            <div class="footer_info">
                <h4>explore</h4>
                <ul>
                    <li><a href="index.html">home</a></li>
                    <li><a href="about.html">about us</a></li>
                    <li><a href="https://beartec.azurewebsites.net/">blog</a></li>
                </ul>
            </div> <!-- END #footer_about -->
    
            
            <div  class="footer_info">
                <h4>connect with us</h4>
                <a href="https://www.facebook.com/BearTec-109737720692447" id="facebook" title="Facebook">
                    <img src="images/facebook_icon.png">
                </a>
        
    </div> <!-- END #footer -->
    <script src="javascript/styling.js"></script>
    <script>
        onload = getLastArticles();
        function getLastArticles(){
            const lastArticlesURL = "https://beartec.azurewebsites.net/api/GetLastArticles";
            const http = new XMLHttpRequest();

            http.open("GET",lastArticlesURL);
            http.onreadystatechange = function(){
                if(this.readyState === 4 && this.status === 200){
                    var jsonResponse = JSON.parse(this.responseText);
                    var articlesContainer = document.getElementById("mid_content");

                    for(i=0;i<jsonResponse.length;i++){
                        console.log("Titulo: " + jsonResponse[i].titulo);
                        console.log("Descripcion: " + jsonResponse[i].descripcion);
                        console.log("Link: " + jsonResponse[i].link);

                        var article = document.createElement("div");
                        article.classList.add("container")
                        article.classList.add("flex-centered-items-container");
                        article.classList.add("blog_article");
                        var title = document.createElement("h2");
                        title.classList.add("blog_entry_title");
                        var description = document.createElement("p");
                        var link = document.createElement("a");
                        link.setAttribute("href",jsonResponse[i].link);

                        // populate elements
                        title.innerText = jsonResponse[i].titulo;
                        description.innerText = jsonResponse[i].descripcion;
                        link.innerText = "Leer mÃ¡s";

                        article.appendChild(title);
                        article.appendChild(description);
                        article.appendChild(link);

                        articlesContainer.appendChild(article);

                    }
                }
            }
            http.send();
        }
    </script>
</body>
</html>
